#include "myblas_internal.h"

static size_t nmax = 130;

static size_t cols[]={
// 0,  1,  2,  3,  4,  5,  6,  7,  8,  9
   0,  1,  2,  3,  2,  5,  3,  7,  4,  3, 
   5, 11,  4, 13,  7,  5,  4, 17,  9, 19, 
   5,  7, 11, 23,  8,  5, 13,  9, 14, 29, 
   6, 31,  8, 11, 17,  7,  6, 37, 19, 39, 
   8, 41,  7, 43, 11,  9, 23, 47,  8,  7, 
  10, 17, 13, 53,  9, 11,  8, 57, 29, 59, 
  10, 61, 31,  9,  8, 13, 11, 67, 17, 23, 
  10, 71,  9, 73, 37, 15, 19, 11, 13, 79, 
  10,  9, 41, 83, 12, 17, 43, 29, 11, 89, 
  10, 13, 23, 31, 47, 19, 12, 97, 14, 11, 
  10,101, 17,103, 13, 15, 53,107, 12,109, 
  11, 37, 14,113, 57, 23, 29, 13, 59, 17, 
  12, 11, 61, 41, 31, 25, 14,127, 16, 43 
};

static size_t rows[]={
// 0,  1,  2,  3,  4,  5,  6,  7,  8,  9
   0,  1,  1,  1,  2,  1,  2,  1,  2,  3, 
   2,  1,  3,  1,  2,  3,  4,  1,  2,  1, 
   4,  3,  2,  1,  3,  5,  2,  3,  2,  1, 
   5,  1,  4,  3,  2,  5,  6,  3,  2,  1, 
   5,  1,  6,  1,  4,  5,  2,  1,  6,  7, 
   5,  3,  4,  1,  6,  5,  7,  1,  2,  1, 
   6,  1,  2,  7,  8,  5,  6,  1,  4,  3, 
   7,  1,  8,  1,  2,  5,  4,  7,  6,  1, 
   8,  9,  2,  1,  7,  5,  2,  3,  8,  1, 
   9,  7,  4,  3,  2,  5,  8,  1,  7,  9, 
  10,  1,  6,  1,  8,  7,  2,  1,  9,  1, 
  10,  3,  8,  1,  2,  5,  4,  9,  2,  7, 
  10, 11,  2,  3,  4,  5,  9,  1,  8,  3  
};

size_t myblas_num_col_threads( size_t nthreads ){
	return ( nthreads < nmax ? cols[nthreads] : nthreads );
}

size_t myblas_num_row_threads( size_t nthreads ){
	return ( nthreads < nmax ? rows[nthreads] : 1 );
}

